!function(){var e={kcckey:"__kcckey__",pidkey:"__pidkey__",urlpatt:"__urlpatt__",aclass:"__aclass__",questSymbol:"__questSymbol__",ampSymbol:"__ampSymbol__"};function a(a){var c=a.target.closest("a");if(c)if(c.dataset.kccurl)c.href=c.dataset.kccurl;else{var r=c.href;if(-1!==r.indexOf(e.kcckey)){var n=r.match(new RegExp(e.kcckey+"=(.*)"));if(n&&n[1]){var l=n[1];parseInt(l)&&(l="/#download"+l),c.dataset.kccurl=r.replace(l,t(l))}}else c.classList.contains(e.aclass)&&(c.dataset.kccurl=e.urlpatt.replace("{in_post}",c.dataset[e.pidkey]||"").replace("{download}",c.dataset.kccdownload?1:"").replace("{url}",t(r)));c.dataset.kccurl&&(c.href=c.dataset.kccurl)}}function t(a){return a.replace(/[?]/g,e.questSymbol).replace(/[&]/g,e.ampSymbol)}document.addEventListener("click",a),document.addEventListener("mousedown",a),document.addEventListener("contextmenu ",a),document.addEventListener("mouseover",(function(a){var c=a.target;if("A"!==c.tagName||-1===c.href.indexOf(e.kcckey))return;var r=c.href.match(new RegExp(e.kcckey+"=(.+)"))[1]||"";if(!r)return;parseInt(r)&&(r="/#download"+r);c.dataset.kccurl=c.href.replace(r,t(r)),c.href=r}))}();